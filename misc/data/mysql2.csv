name,creator,creation_date,updater,update_date,closed_date,message
brianmario/mysql2,sodabrew,1510689902000,sodabrew,1513351209000,1513351209000,"New Features\r\n====\r\n* Make sure ssl is enabled if only :sslverify is set (#889)\r\n\r\nFixes\r\n====\r\n* Cast the BIT(1) type when :cast_booleans is true for prepared statements (#883, #903)\r\n* Compilation failures against MariaDB Connector/C 3.0.2 (#878, #888, #895, #900, #901, #902)\r\n* MYSQL_SECURE_AUTH has been removed in MySQL 8.0.3 RC (#892, #898)\r\n\r\nChanges\r\n====\r\n* Better specs (#904)\r\n* Extended keyword for the explain statement has been removed (#894)"
brianmario/mysql2,sodabrew,1502425394000,sodabrew,1502425941000,1502425941000,"Bug Fixes\r\n===\r\n\r\n* Fixed enable_cleartext_plugin mode (#874)\r\n* Prepared statements should handle booleans properly (#871)"
brianmario/mysql2,sodabrew,1499719207000,sodabrew,1499736955000,1499736955000,"Bug Fixes\r\n===\r\n\r\nAdd ifdefs for MySQL 5.1 without MYSQL_ENABLE_CLEARTEXT_PLUGIN "
brianmario/mysql2,sodabrew,1498950257000,sodabrew,1498951486000,1498951486000,"New Features\r\n===\r\n\r\n* Add Mysql2::Client#closed? (#796)\r\n* Adding support for MYSQL_ENABLE_CLEARTEXT_PLUGIN flag (#845)\r\n\r\nBugfixes\r\n===\r\n\r\n* Avoid invalidating re-assigned socket fd by fixing connected check (#847)\r\n* Fix use after free of client field when closing with reconnect option (#846)\r\n* Fix segfault for Mysql2::Statement#fields on non-SELECT queries (#860)\r\n\r\nChanges\r\n===\r\n\r\n* Support for MariaDB 10.2 (#857 and others)\r\n* Close several unclosed clients in tests (#848)\r\n* Docs: Fix link in readme (#854)\r\n* Fix incorrect use of word \"deprecated\" (#855)\r\n* Fix leaky test that caused a re-assigned socket to be closed on GC. (#853)\r\n* Wait for close to be processed by server in test for Threads_connected (#850)\r\n* Fix flaky test that used Process.wait without specifying a pid (#849)"
brianmario/mysql2,sodabrew,1493877851000,sodabrew,1493885692000,1493885692000,"New Features\r\n===\r\nNone.\r\n\r\nBugfixes\r\n===\r\n* Mysql2::Error: This connection is still waiting for a result, try again once you have the result (#772)\r\n* Handle being terminated while reading query result (#811 )\r\n* Fix segfault on SIGINT race condition (#816, #813)\r\n* Better error messages when the connection options have errors (#831)\r\n\r\nChanges\r\n===\r\n* Use `bool` instead of `my_bool` which has been removed since MySQL 8.0.1 (#840, #838)\r\n* Reminder for Mac users to install xcode-select (#832)\r\n* Update Travis CI and AppVeyor matrix (#820, #819, #812)\r\n* Update Travis CI for MySQL 8.0 tests (#818, #817)\r\n "
brianmario/mysql2,sodabrew,1477114914000,sodabrew,1477116019000,1477116019000,"# New Features\n- Add new connection argument :ssl_mode to Mysql2::Client#new\n- Prepared statements now support DateTime arguments\n\n# Bugfixes\n- Fix segfault when `wrapper->result` is used after it is freed\n- Raise an exception but don't crash on non-string encoding argument\n- Raise an exception but don't crash on nil argument to Mysql2::Client#new\n- Avoid RangeError on integers larger than LONG_LONG\n- Fix a BigDecimal value binding in Prepared Statements\n- Avoid type error when using connect_timeout, read_timeout and write_timeout in a DATABASE_URL env variable\n\n# Changes\n- Travis CI matrix now includes MySQL 8.0\n- Travis CI matrix defaults to MySQL 5.6\n- AppVeyor CI matrix switched to MySQL 5.7\n- Fix test that implicitly creates a passwordless user\n- Use RSpec expect output instead of StringIO\n- Move macro REQUIRE_CONNECTED to client.c\n- Add a note about casting boolean columns\n- Suppress rubocop's invalid UTF-8 literal warning\n"
brianmario/mysql2,sodabrew,1462671037000,sodabrew,1462671269000,1462671269000,"# New Features\n\nNone\n\n# Bugfixes\n- Fix segfault when :cache_rows => false\n\n# Changes\n- Add Ruby 2.3.1 to the Travis CI matrix\n- Use `Thread.handle_interrupt` to protect `Client#query` against Timeout interrupts\n"
brianmario/mysql2,sodabrew,1461064910000,sodabrew,1461065229000,1461065229000,"# New Features\n- None\n\n# Bugfixes\n- Fix segv when num of rows is zero\n- Fix failed to allocate memory for an empty result set\n- Fix :cache_rows => false on prepared statements\n- Fix results buffer allocation fails with prepared statements\n\n# Changes\n- Allow repeated each with :cache_rows => false\n- Fix some tests for non-default creds \n- Use the Travis Trusty image for Travis CI\n"
brianmario/mysql2,sodabrew,1456338513000,sodabrew,1456435236000,1456435236000,"# New Features\n- Add method Client#ssl_cipher to expose mysql_get_ssl_cipher\n- Add method Result#free to immediately free a result set\n- Add connection flag `automatic_close: true/false` to determine whether to work around connections being closed by garbage collection in a child after a fork. Default is `true`, which restores behavior prior to 0.3.16.\n\n# Bugfixes\n- Fix to hold the GVL between mysql_stmt_execute and mysql_stmt_store_result to prevent commands hitting the wire out of sync (e.g. if a GC run occurs in the middle)\n- Fix BigDecimal arguments to Prepared Statements were ignored\n- Fix rake re-definition warning\n\n# Changes\n- Add Ruby 2.3 to the Travis CI matrix\n- Allow nil for timeouts instead of casting to 0 when creating a Client instance\n- Add connection flag `automatic_close: true/false` to determine whether to work around connections being closed by garbage collection in a child after a fork. Default is `true`, which restores behavior prior to 0.3.16.\n"
brianmario/mysql2,sodabrew,1448485666000,sodabrew,1449093231000,1449093231000,"# New Features\n- Add Array and String parsing to the `Mysql2::Client.new(:flags => ...)` parameter to make it easier to pass flags from database.yml by name rather than magic numbers.\n- Add compile-time configure flag `--with-sanitize[=address,cfi,integer,memory,thread,undefined]` to enable Clang / GCC sanitizers.\n\n# Bug Fixes\n- Fix memory leak in Mysql2::Client#close\n- Don't enable Clang sanitizers on end-user CI systems where the mysql2 gem is not the thing under test.\n\n# Changes\n- Update Travis tests for MariaDB 5.5, 10.0, 10.1, and MySQL 5.7 GA.\n"
brianmario/mysql2,sodabrew,1442378340000,sodabrew,1449089980000,1449089980000,"# New Features\n- Add methods Mysql2::Statement#last_id, Mysql2::Statement#affected_rows, Mysql2::Statement#close\n\n# Bug Fixes\n- Only check compile-time libmysql version on Win32 platform.\n- Also protect Mysql2::Statement#execute from Timeout.\n- Handle different versions of TimeoutError vs. Timeout::ExitException.\n\n# Changes\n- Send a `COM_QUIT` and `shutdown()` the socket for explicit Mysql2::Client#close calls.\n- New method for raising Mysql2::Error with error_number and sql_state arguments.\n- More cleanups for RuboCopy. Enforce RuboCop compliance on Travis.\n- Use pre-generated SSL certificates rather than generating on the fly on Travis (tests run faster by up to 1 minute).\n- Updates for RSpec 3.x preferred test style.\n- Attempt to run Clang sanitizers on Travis CI.\n- Move Mysql2::Client `@@default_query_options` into a class method.\n"
brianmario/mysql2,sodabrew,1441699622000,sodabrew,1441653798000,1441653798000,"# New Features\n- Support for Prepared Statements!\n- Add connection option `:sslverify`\n- Use `mariadb_config` for MariaDB builds\n\n# Bugfixes\n- Fix Mysql2::Result#count always returns 0 when using stored procedures and MULTI_STATEMENTS\n\n# Changes\n- Prevent Timeout::timeout from interrupting query execution\n- Use Ruby's String#encode to remove unrecognized characters from error messages\n- Convert specs to RSpec 3 expect sytnax\n- Refactored the Travis CI test scripts\n- Misc cleanups with Rubocop\n- Stricter CFLAGS\n"
brianmario/mysql2,sodabrew,1440484717000,sodabrew,1440485061000,1440485061000,"# Bugfixes\n- Check if O_CLOEXEC is defined before using it in open()\n- Fix an infinite loop while searching for libmysqlclient when mysql_config is not found\n\n# Changes\n- Call RakeCompilerDock.sh twice, once for 32-bit and once for 64-bit, when building Windows binary gems\n"
brianmario/mysql2,sodabrew,1438254869000,sodabrew,1438367809000,1438367809000,"# New Features\n- Mysql2::Client#info class method for easier debugging, and both the class and instance method return US_ASCII output rather than using the connection encoding.\n- When streaming results, continue result.count across calls to result.each\n\n# Bugfixes\n- Search for mariadb_config on compile\n- Update to Connector/C 6.1.6 in the Windows builds\n- Fix Mysql2::Client#escape to set the encoding even if the string was not modified\n- Fix LICENSE filename in gem file list\n- Make the result.count return type consistent and match the source type\n\n# Changes\n- Rename macro GetMysql2Result to GET_RESULT\n- Convert StringValuePtr to either RSTRING_PTR or StringValueCStr\n- Fix unused variable warning on Windows in rb_mysql_client_socket\n- Add Ruby 2.2 to the AppVeyor matrix\n- Test default client flag equality instead of bitwise truthiness\n- Add rake-compiler-dock for building Windows binary gems\n- Friendly ext build error <3\n- Process :stream option in `rb_mysql_result_to_obj` once instead of `rb_mysql_result_each` for each call to each\n- Tests for streaming and stored procedures with multiple result sets\n"
brianmario/mysql2,sodabrew,1415651515000,sodabrew,1424214127000,1424214127000,"# New Features\n- Microseconds are now supported in a TIME field (0.3.12 added support for msec in DATETIME).\n\n# Bugfixes\n- Use /dev/null in invalidate_fd to avoid infinite loop in OpenSSL.\n- Change sql_state to attr_reader to avoid Ruby warning.\n\n# Changes\n- Added call to mysql_library_init during initialization of the gem for thread safety.\n- State the name of the field that contains a bad datetime value in the exception.\n- Travis CI updates including:\n  - SSL tests\n  - Ruby 2.1.x\n  - Newer Rubinius 2.x\n  - OS X with Ruby 2.0\n  - MySQL 5.7 with Ruby 2.0\n"
brianmario/mysql2,sodabrew,1424132771000,sodabrew,1424213473000,1424213473000,"# New Features\n- Windows builds are restored following an extensive dive into DLL and compiler issues.\n- MySQL Connector/C 6.1.5 is now vendored into the binary gems for Windows.\n- Optional environment variable RUBY_MYSQL2_LIBMYSQL_DLL to find libmysql.dll on Windows.\n\n# Bugfixes\n- Fix milliseconds were not converted from results into Ruby Time objects.\n- Fix error when you close EM::Client with no query running.\n\n# Changes\n- Update and rename MIT-LICENSE to LICENSE\n- Update Travis unit tests for OS X\n- Add Ruby 2.2 to Travis platforms\n- Speed up certain unit tests with a MEMORY table\n- More search paths are added to find MySQL installed by MacPorts and Homebrew on OS X.\n"
brianmario/mysql2,sodabrew,1415732414000,sodabrew,1424209136000,1424209136000,"See https://github.com/brianmario/mysql2/releases/0.3.17\n"
brianmario/mysql2,sodabrew,1400026658000,sodabrew,1400116664000,1400116664000,"# New Features\n- New connection argument `:init_command` sets a query string to run at connect/reconnect.\n\n# Bugfixes\n- Check that dir_config returns at least one valid directory at compile time.\n\n# Changes\n- Enforce connection retry time limits across interrupts (e.g. by signals, etc.)\n- Prevent MySQL from calling `shutdown()` on shared sockets.\n- MariaDB 5.5 and 10.0 added to the test suite. No changes were required to support MariaDB, but we're actively testing for compatibility now.\n- Update specs for Ruby 2.1 Timeout behavior.\n"
brianmario/mysql2,sodabrew,1400026515000,sodabrew,1400116611000,1400116611000,"See https://github.com/brianmario/mysql2/releases/0.3.16\n"
brianmario/mysql2,brianmario,1373929594000,brianmario,1373932658000,1373932658000,"This release contains all of the same code and therefore release notes as 0.3.12.\n\nThe following changes are specific to 0.2.19:\n\n## Changes\n- The EventMachine ActiveRecord adapter and EM Fiber driver have been removed. You should use https://github.com/igrigorik/em-synchrony instead as it's being maintained there.\n\n## Bug fixes\n- The ActiveRecord adapter now symbolizes the keys from the connection options hash as early as possible to ensure hash lookups on that hash will work before the `Mysql2::Client` object is created.\n- Make sure a default LIMIT is set when an OFFSET is set.\n- A couple of small fixes related to newer ActiveRecord versions since the last mysql2 release\n\nView the diff [here](https://github.com/brianmario/mysql2/compare/0.2.18...0.2.19)\n"
brianmario/mysql2,brianmario,1373929560000,brianmario,1373932245000,1373932245000,"## New features\n- We're compatible with Ruby 2.0.0 now!\n- A new `:streaming` option can be passed while issuing a query which will leave the results on the server side and stream them to the client a row-at-a-time. This is great for really large datasets.\n- `Mysql2::Client#abandon_results!` has been introduced which lets you throw away result sets in an efficient manner.\n- `Mysql2::Client#select_db` has been introduced allowing you to select which database a connection is using without needing to issue a query.\n- `Mysql2::Client#more_results?` has been introduced which is used to check if there are more results to be read when `CLIENT_MULTI_STATEMENTS` is enabled.\n- `Mysql2::Client#next_result` has been introduced which is used to step the result cursor forward by one when `CLIENT_MULTI_STATEMENTS` is enabled.\n- `Mysql2::Client#store_result` has been introduced which allows you to read the next result off the wire when `CLIENT_MULTI_STATEMENTS` is enabled.\n- `Mysql2::Client#reconnect=` has been introduced which allows you to change the reconnect behavior of libmysql while a connection is active.\n- `Mysql2::Client#warning_count` has been introduced which returns the warning count from the most recent query.\n- `Mysql2::Client#query_info_string` has been introduced which returns an informational string returned by the server about the most recent query.\n- The `read_timeout` connection option has been introduced allowing you to set the read timeout of the connection in seconds.\n- The `write_timeout` connection option has been introduced allowing you to set the write timeout of the connection in seconds.\n- The `local_infile` connection option has been introduced which allows you to enable LOCAL INFILE support.\n- `BIT` field values can be used as boolean fields when `cast_bool` is enabled.\n- We now respect fractional seconds in `TIMESTAMP` and `DATETIME` fields (this was introduced in Mysql 5.6.4).\n\n## Bug Fixes\n- Fix a _really_ long-standing double-free bug related to a Mysql2::Client being freed before a Mysql2::Result that was generated from it. We now do our own refcounting in C as well as a Ruby reference to a Mysql2::Client from it's Mysql2::Result's.\n- Fix a compile bug when using the mysql-connector-c related to version compatibility checks in mysql2\n- A more explicit error is raised when a single connection is attempted to be shared across threads\n- We're more protected against GC-related bugs when compiler optimizations may keep a Ruby object pointer from being visible during GC runs.\n- Fix an integer overflow bug with the `CLIENT_` constant values\n- Compiling the gem should be a little more robust. Some changes were made to extconf to try and make sure we can find libmysql when linking.\n- Make sure we read values from the various TIME/DATE field types as unsigned integers.\n- `Mysql2::Client::EM` shouldn't swallow exceptions raised in the deferrable callbacks.\n- Passing options to `Mysql2::Client#query` should no longer persist on the `Mysql2::Client` object itself but instead only apply to the `Mysql2::Result` object created by the query as intended.\n- Reading `Mysql2::Client#affected_rows` or `Mysql2::Client#last_id` after a result has been freed should no longer return garbage.\n\n## Optimizations\n- Push mysql<->ruby encoding mapping table down into C for a nice speedup\n- Use a faster Hash#dup on 1.8.7 when cascading the options hash through Mysql2's objects\n- We use `rb_intern3` if it's available to create symbol keys when `symbolize_keys` is enabled to skip creating an intermediary Ruby String.\n\nView the diff [here](https://github.com/brianmario/mysql2/compare/0.3.11...0.3.12)\n"
brianmario/mysql2,brianmario,1323163294000,brianmario,1371090322000,1371090322000,"- change mysql error detection strategy from using mysql_field_count to the more explicit mysql_errno\n- bugfix to avoid race condition with active connections that error out\n- revert back to using xmalloc/xfree for allocations\n- avoid potentially unsafe Ruby C API usage w/o GVL\n- reacquire GVL before retrying on EINTR on connect\n"
brianmario/mysql2,brianmario,1320836680000,brianmario,1371090304000,1371090304000,"- remove fiber support from mysql2, the code has moved to the\n  em-synchrony gem.\n- use rb_wait_for_single_fd() if available\n- fixed a bug with inheriting query options\n- remove ext/ from the default loadpath\n- fix build issues on OSX with Xcode 4.2 (gcc-llvm compiler)\n"
brianmario/mysql2,brianmario,1313545450000,brianmario,1371090289000,1371090289000,"- ensure symbolized column names support encodings in 1.9\n"
brianmario/mysql2,brianmario,1308326963000,brianmario,1371090271000,1371090271000,"- fix bug in Time/DateTime range detection\n- (win32) fix bug where the Mysql2::Client object wasn't cleaned up properly if interrupted during a query\n- add Mysql2::Result#count (aliased as size) to get the row count for the dataset\n  this can be especially helpful if you want to get the number of rows without having to inflate\n  the entire dataset into ruby (since this happens lazily)\n"
brianmario/mysql2,brianmario,1308200457000,brianmario,1371090257000,1371090257000,"- bug fix for Time/DateTime usage depending on 32/64bit Ruby\n"
brianmario/mysql2,brianmario,1308193972000,brianmario,1371090232000,1371090232000,"- fix a long standing bug where a signal would interrupt rb_thread_select and put the connection in a permanently broken state\n- turn on casting in the ActiveRecord again, users can disable it if they need to for performance reasons\n"
brianmario/mysql2,brianmario,1308091073000,brianmario,1371090217000,1371090217000,"- disable async support, and access to the underlying file descriptor under Windows. It's never worked reliably and ruby-core has a lot of work to do in order to make it possible.\n- added support for turning eager-casting off. This is especially useful in ORMs that will lazily cast values upon access.\n- added a warning if a 0.2.x release is being used with ActiveRecord 3.1 since both the 0.2.x releases and AR 3.1 have mysql2 adapters, we want you to use the one in AR 3.1\n- added Mysql2::Client.escape (class-level method)\n- disabled eager-casting in the bundled ActiveRecord adapter (for Rails 3.0 or less)\n"
brianmario/mysql2,brianmario,1303883661000,brianmario,1371090204000,1371090204000,"- Fix typo in initialization for older ActiveRecord versions\n"
brianmario/mysql2,brianmario,1303883032000,brianmario,1371090191000,1371090191000,"- Fix typo in initialization for older ActiveRecord versions\n"
